// Изменение объекта (после сохранения)
def codeOf = { val ->                      // безопасно получаем код статуса
    if (val == null) return null
    (val instanceof String) ? val : val?.code
}

// 1) Тип запроса действительно поменяли?
def typeChanged = (subject?.serviceType?.id ?: 0) != (oldSubject?.serviceType?.id ?: 0)
if (!typeChanged) return

// 2) Был ли предыдущий статус?
def oldStateObj  = oldSubject?.state       // берем сам объект статуса!
if (oldStateObj == null) return

// 3) Сейчас статус сброшен в registered?
def nowCode = codeOf(subject?.state)
if (!"registered".equalsIgnoreCase(nowCode)) return

// 4) Вернем прежний статус (объект)
utils.edit(subject, [ state: oldStateObj ])
// На втором проходе тип уже не меняется => typeChanged=false => выходим сразу.